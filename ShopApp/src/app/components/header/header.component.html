<header class="header fixed-top">
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark" [ngClass]="{ 'scrolled': isScrolled }">
    <div class="container">
      <a class="navbar-brand" href="#">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="50" height="50">
          <circle cx="50" cy="50" r="45" fill="rgb(240, 101, 197)" />
          <circle cx="50" cy="50" r="35" fill="rgb(127, 68, 255)" />
        </svg>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item" *ngFor="let item of navItems; let i = index">
            <a class="nav-link cart-icon" [ngClass]="{ 'active': activeNavItem === i }" (click)="setActiveNavItem(i)"
              [routerLink]="item.route">
              <i [class]="item.icon"></i>
              <span *ngIf="item.name === 'Giỏ hàng'">
                <span class="badge">{{ itemCount }}</span>
              </span>
              {{ item.name }}
            </a>
          </li>
        </ul>
        <ul class="navbar-nav ms-auto">
          <li class="nav-item" *ngIf="userResponse">
            <a class="nav-link d-flex align-items-center" (click)="togglePopover(p)" href="#">
              <img src="assets/img/logo.jpg" alt="Avatar" class="rounded-circle avatar me-2">
              {{ userResponse.fullname }}
            </a>
            <div ngbPopover="User Actions" [ngbPopover]="popoverContent" #p="ngbPopover" triggers="manual"
              placement="bottom">
            </div>
            <ng-template #popoverContent>
              <div class="popover-list">
                <a class="popover-item" (click)="handleItemClick(0); p.close()">Tài khoản của tôi</a>
                <a class="popover-item" (click)="handleItemClick(1); p.close()">Đơn mua</a>
                <a class="popover-item" (click)="handleItemClick(2); p.close()">Đăng xuất</a>
              </div>
            </ng-template>
          </li>
          <li class="nav-item d-flex" *ngIf="!userResponse">
            <a class="nav-link" href="#" (click)="openLoginModal()"> <i class="fa fa-sign-in"></i> Đăng
              nhập</a>
            <a class="nav-link" href="#" (click)="createAccount()"><i class="fa-solid fa-user-plus"></i> Đăng ký</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>
